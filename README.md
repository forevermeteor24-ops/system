# ç”µå•†ç‰©æµé…é€å¯è§†åŒ–å¹³å°

æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªå®Œæ•´çš„ç”µå•†ç‰©æµé…é€å¯è§†åŒ–å¹³å°ï¼ŒåŒ…å« **å•†å®¶ç«¯ã€ç”¨æˆ·ç«¯å‰ç«¯ç•Œé¢**ï¼Œä»¥åŠ **Node.js åç«¯ã€WebSocket æœåŠ¡ã€è½¨è¿¹æ¨¡æ‹Ÿå™¨**ã€‚å¹³å°æ”¯æŒ **è®¢å•ç®¡ç†ã€å®æ—¶é…é€è¿½è¸ªã€åœ°å›¾å¯è§†åŒ–ã€è½¨è¿¹å›æ”¾ã€æ•°æ®çœ‹æ¿** ç­‰åŠŸèƒ½ï¼Œå¹¶é€šè¿‡ **é«˜å¾·åœ°å›¾** æä¾›ç²¾å‡†çš„é…é€è·¯çº¿å’Œå®æ—¶ä½ç½®è¿½è¸ªã€‚

---

## ğŸ— é¡¹ç›®ç›®å½•ç»“æ„

```

/project-root
/user-client            # ç”¨æˆ·ç«¯å‰ç«¯
/src
/api                # API è¯·æ±‚
/assets             # é™æ€èµ„æº
/components         # ç»„ä»¶
/pages              # é¡µé¢ç»„ä»¶
/utils              # å·¥å…·å‡½æ•°
.env                # ç¯å¢ƒé…ç½®
tsconfig.json       # TypeScript é…ç½®
/merchant-client        # å•†å®¶ç«¯å‰ç«¯
/src
/api                # API è¯·æ±‚
/assets             # é™æ€èµ„æº
/components         # ç»„ä»¶
/pages              # é¡µé¢ç»„ä»¶
/utils              # å·¥å…·å‡½æ•°
/server                 # Node.js åç«¯æœåŠ¡
/src
/api                # REST API è·¯ç”±
/ws                 # WebSocket æœåŠ¡
/simulator          # é…é€è½¨è¿¹æ¨¡æ‹Ÿå™¨
/models             # æ•°æ®åº“æ¨¡å‹
/utils              # å·¥å…·å‡½æ•°
docker-compose.yml      # ä¸€é”®å¯åŠ¨é…ç½®
README.md               # é¡¹ç›®è¯´æ˜
package.json            # åç«¯ä¾èµ–é…ç½®

```

---

## ğŸ“ æ–‡ä»¶å¤¹ä½œç”¨è¯´æ˜

### `/user-client` â€”â€” ç”¨æˆ·ç«¯å‰ç«¯
| æ–‡ä»¶å¤¹ | ä½œç”¨ |
|-------|------|
| `/api` | å¤„ç†ä¸åç«¯çš„ API è¯·æ±‚ |
| `/assets` | å­˜æ”¾é™æ€èµ„æºï¼Œå¦‚å›¾ç‰‡å’ŒSVGå›¾æ ‡ |
| `/components` | å¯å¤ç”¨çš„UIç»„ä»¶ |
| `/pages` | é¡µé¢ç»„ä»¶ï¼Œå¦‚è®¢å•è¯¦æƒ…é¡µã€ä¸ªäººèµ„æ–™é¡µç­‰ |
| `/utils` | å·¥å…·å‡½æ•°ï¼Œä¸»è¦ç”¨äºæ•°æ®å¤„ç†ç­‰ |

### `/merchant-client` â€”â€” å•†å®¶ç«¯å‰ç«¯
| æ–‡ä»¶å¤¹ | ä½œç”¨ |
|-------|------|
| `/api` | å¤„ç†ä¸åç«¯çš„ API è¯·æ±‚ |
| `/assets` | å­˜æ”¾é™æ€èµ„æº |
| `/components` | å¯å¤ç”¨çš„UIç»„ä»¶ |
| `/pages` | é¡µé¢ç»„ä»¶ï¼Œå¦‚è®¢å•ç®¡ç†é¡µã€é…é€çŠ¶æ€é¡µç­‰ |
| `/utils` | å·¥å…·å‡½æ•° |

### `/server` â€”â€” Node.js åç«¯æœåŠ¡
| æ–‡ä»¶å¤¹ | ä½œç”¨ |
|-------|------|
| `/api` | è®¢å•ã€é…é€ã€ç”¨æˆ·ç­‰ REST API |
| `/ws` | WebSocket æœåŠ¡ï¼Œç”¨äºå®æ—¶æ¨é€é…é€ä½ç½® |
| `/simulator` | é…é€è½¨è¿¹æ¨¡æ‹Ÿå™¨ï¼Œç”¨äºè‡ªåŠ¨ç”Ÿæˆæ¼”ç¤ºæ•°æ® |
| `/models` | æ•°æ®åº“æ¨¡å‹ï¼Œå¦‚è®¢å•ã€è½¨è¿¹ç­‰ |
| `/utils` | é€šç”¨å·¥å…·ï¼Œå¦‚ç»çº¬åº¦è®¡ç®—ã€é…ç½®è¯»å–ç­‰ |

---

### `docker-compose.yml`
ç”¨äºå¿«é€Ÿå¯åŠ¨é¡¹ç›®ç¯å¢ƒï¼ŒåŒ…æ‹¬ï¼š
- Node.js åç«¯æœåŠ¡
- å‰ç«¯å¼€å‘ç¯å¢ƒ
- æ•°æ®åº“ï¼ˆå¦‚ MongoDB / PostgreSQLï¼‰
- è½¨è¿¹æ¨¡æ‹Ÿå™¨

---

## ğŸš€ åŠŸèƒ½ç‰¹æ€§

### âœ… å‰ç«¯åŠŸèƒ½
- å•†å®¶ç«¯è®¢å•ç®¡ç†
- ç”¨æˆ·ç«¯è®¢å•æŸ¥è¯¢ä¸å®æ—¶é…é€å¯è§†åŒ–
- ç®¡ç†å°æ•°æ®çœ‹æ¿
- åœ°å›¾å±•ç¤ºé…é€è·¯çº¿ã€è½¨è¿¹å›æ”¾
- å®æ—¶ WebSocket æ•°æ®æ¥æ”¶

### âœ… åç«¯åŠŸèƒ½
- è®¢å•/é…é€ REST API
- WebSocket å®æ—¶ä½ç½®æ¨é€
- é…é€è½¨è¿¹æ¨¡æ‹Ÿå™¨ï¼ˆæ”¯æŒæ‰¹é‡è‡ªåŠ¨è¿è¡Œï¼‰
- æ•°æ®å­˜å‚¨ï¼ˆè®¢å•ã€ç”¨æˆ·ã€è½¨è¿¹ç‚¹ï¼‰

---

## ğŸ›  æŠ€æœ¯æ ˆ

**å‰ç«¯ï¼š**
- React + Vite  
- Zustand / Redux (å¯é€‰)  
- é«˜å¾·åœ°å›¾ API / Leaflet  
- Recharts / ECharts  

**åç«¯ï¼š**
- Node.js (Express or Koa)  
- WebSocket  
- MongoDB / PostgreSQL  
- è·¯å¾„/è½¨è¿¹æ¨¡æ‹Ÿç®—æ³•  

---

## â–¶ï¸ é¡¹ç›®å¯åŠ¨

### æ–¹å¼ä¸€ï¼šDocker ä¸€é”®å¯åŠ¨
```

docker-compose up -d

```

### æ–¹å¼äºŒï¼šæ‰‹åŠ¨å¯åŠ¨

#### 1. å¯åŠ¨åç«¯
```

cd server
npm install
npm run dev

```

#### 2. å¯åŠ¨å‰ç«¯
```

cd user-client
npm install
npm run dev

```

#### 3. å¯åŠ¨å•†å®¶ç«¯
```

cd merchant-client
npm install
npm run dev

```

#### 4. å¯åŠ¨è½¨è¿¹æ¨¡æ‹Ÿå™¨ï¼ˆå¯é€‰ï¼‰
```

cd server
npm run simulate

```

---

## ğŸ“¡ WebSocket äº‹ä»¶å®šä¹‰ï¼ˆç¤ºä¾‹ï¼‰
```

delivery/update   # æ¨é€éª‘æ‰‹å®æ—¶ä½ç½®ç‚¹
delivery/finish   # é…é€ç»“æŸ
order/update      # è®¢å•çŠ¶æ€æ›´æ–°

```

---

## ğŸ“œ License
MIT License
